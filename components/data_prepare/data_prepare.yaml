$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
type: command

name: data_prepare
display_name: Prepare Iris Data
description: Load MLTable, prepare features (X) and target (y), normalize, and save as NumPy arrays

inputs:
  data:
    type: mltable
    description: Raw Iris data as MLTable

outputs:
  xy:
    type: uri_folder
    description: Prepared and normalized data (X.npy, y.npy)
  mapping:
    type: uri_folder
    description: Label mapping (species names to IDs and reverse)

code: .

environment: azureml:iris_train@latest

command: >-
  python data_prepare.py
  --data ${{inputs.data}}
  --xy ${{outputs.xy}}
  --mapping ${{outputs.mapping}}